{"version":3,"sources":["App.js","components/Page/Page.js","components/RouteHelper/RouteHelper.js","components/AEMText/AEMText.tsx","components/Image/Image.js","index.js"],"names":["App","className","this","props","cssClassNames","childComponents","childPages","Page","withModel","require","WrappedComponent","extension","BREAKPOINTS","AppPage","attrs","MapTo","withComponentMappingContext","routePath","cqPath","key","exact","path","render","routeProps","Component","eaemTheme","createMuiTheme","breakpoints","createBreakpoints","values","xs","XS","sm","SM","md","MD","lg","LG","xl","XL","a","b","useStyles","makeStyles","createStyles","root","fontFamily","down","fontSize","textDecoration","classes","id","replace","data-rte-editelement","dangerouslySetInnerHTML","__html","text","emptyLabel","isEmpty","trim","length","Image","window","parent","addEventListener","event","detail","type","cqType","Object","assign","data","forceUpdate","bind","to","imageLink","src","fileReference","style","imageHTML","document","ModelManager","initialize","then","pageModel","history","createBrowserHistory","cqChildren","Constants","CHILDREN_PROP","cqItems","ITEMS_PROP","cqItemsOrder","ITEMS_ORDER_PROP","PATH_PROP","locationPathname","location","pathname","getElementById"],"mappings":"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","file":"static/js/main.44c703bb.chunk.js","sourcesContent":["import { Page, withModel } from '@adobe/cq-react-editable-components';\r\nimport React from 'react';\r\n\r\n// This component is the application entry point\r\nclass App extends Page {\r\n  render() {\r\n    return (\r\n      <div className={this.props.cssClassNames}>\r\n        {this.childComponents}\r\n        {this.childPages}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withModel(App);\r\n","import { MapTo, Page, withComponentMappingContext} from '@adobe/cq-react-editable-components';\r\nimport { withRoute } from '../RouteHelper/RouteHelper';\r\n\r\nrequire('./Page.css');\r\n\r\n// This component is a variant of a Page component mapped to the\r\n// \"eaem-cs-spa-ssr-form/components/page\" resource type. For now, the rendering is\r\n// the same as the RootPage; this is more for illustration purposes\r\nclass AppPage extends Page {\r\n    get containerProps() {\r\n        let attrs = super.containerProps;\r\n        attrs.className = (attrs.className || '') + ' page ' + (this.props.cssClassNames || '');\r\n        return attrs;\r\n    }\r\n}\r\n\r\nexport default MapTo('eaem-cs-spa-ssr-form/components/page')(\r\n    withComponentMappingContext(withRoute(AppPage))\r\n);\r\n","/*~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n ~ Copyright 2020 Adobe Systems Incorporated\r\n ~\r\n ~ Licensed under the Apache License, Version 2.0 (the \"License\");\r\n ~ you may not use this file except in compliance with the License.\r\n ~ You may obtain a copy of the License at\r\n ~\r\n ~     http://www.apache.org/licenses/LICENSE-2.0\r\n ~\r\n ~ Unless required by applicable law or agreed to in writing, software\r\n ~ distributed under the License is distributed on an \"AS IS\" BASIS,\r\n ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n ~ See the License for the specific language governing permissions and\r\n ~ limitations under the License.\r\n ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~*/\r\n\r\nimport React, { Component } from 'react';\r\nimport { Route } from 'react-router-dom';\r\n\r\n/**\r\n * Returns a composite component where a {@link Route} component wraps the provided component\r\n *\r\n * @param {React.Component} WrappedComponent    - React component to be wrapped\r\n * @param {string} [extension=html]             - extension used to identify a route amongst the tree of resource URLs\r\n * @returns {CompositeRoute}\r\n */\r\nexport const withRoute = (WrappedComponent, extension) => {\r\n    return class CompositeRoute extends Component {\r\n        render() {\r\n            let routePath = this.props.cqPath;\r\n            if (!routePath) {\r\n                return <WrappedComponent {...this.props} />;\r\n            }\r\n\r\n            extension = extension || 'html';\r\n\r\n            // Context path + route path + extension\r\n            return (\r\n                <Route\r\n                    key={routePath}\r\n                    exact\r\n                    path={'(.*)' + routePath + '(.' + extension + ')?'}\r\n                    render={routeProps => {\r\n                        return <WrappedComponent {...this.props} {...routeProps} />;\r\n                    }}\r\n                />\r\n            );\r\n        }\r\n    };\r\n};\r\n","import { MapTo } from \"@adobe/cq-react-editable-components\";\r\nimport React, { FC, useState, useEffect } from \"react\";\r\nimport {\r\n  makeStyles, Theme, createStyles\r\n} from \"@material-ui/core\";\r\nimport { createMuiTheme } from \"@material-ui/core/styles\";\r\nimport createBreakpoints from \"@material-ui/core/styles/createBreakpoints\";\r\n\r\ntype TextProps = {\r\n  cqPath: string;\r\n  text?: string;\r\n};\r\n\r\nconst AEMTextEditConfig = {\r\n  emptyLabel: \"Text - Experience AEM\",\r\n\r\n  isEmpty: function (props: any) {\r\n    return !props || !props.text || props.text.trim().length < 1;\r\n  }\r\n};\r\n\r\nfunction extractModelId(path: string) {\r\n  return path && path.replace(/\\/|:/g, \"_\");\r\n}\r\n\r\nenum BREAKPOINTS {\r\n  XS = 0,\r\n  SM = 768,\r\n  MD = 992,\r\n  LG = 1200,\r\n  XL = 1600\r\n}\r\n\r\nconst eaemTheme = createMuiTheme({\r\n  breakpoints: createBreakpoints({\r\n    values: {\r\n      xs: BREAKPOINTS.XS,\r\n      sm: BREAKPOINTS.SM,\r\n      md: BREAKPOINTS.MD,\r\n      lg: BREAKPOINTS.LG,\r\n      xl: BREAKPOINTS.XL\r\n    },\r\n    get down() {\r\n      return (key : number | string) => {\r\n        let values = this.values as any;\r\n        return `@media (max-width: ${values[key]- 0.05}px)`;\r\n      }\r\n    },\r\n    get between() {\r\n      return (a : number | string, b : number | string) => {\r\n        let values = this.values as any;\r\n        return `@media (min-width:${values[a]}px) and (max-width:${values[b] - 0.05}px)`;\r\n      }\r\n    }\r\n  })\r\n});\r\n\r\nconst useStyles = makeStyles(() => {\r\n  return createStyles({\r\n    root: {\r\n      fontFamily: 'AdobeCaslonPro, Times, serif !important',\r\n      '& h1': {\r\n        [eaemTheme.breakpoints.down(\"xl\")]: {\r\n          fontSize: '34px',\r\n        },\r\n        [eaemTheme.breakpoints.down(\"lg\")]: {\r\n          fontSize: '30px',\r\n        },\r\n        [eaemTheme.breakpoints.down(\"md\")]: {\r\n          fontSize: '26px',\r\n        }\r\n      },\r\n      '& h2': {\r\n        [eaemTheme.breakpoints.down(\"xl\")]: {\r\n          fontSize: '28px',\r\n        },\r\n        [eaemTheme.breakpoints.down(\"lg\")]: {\r\n          fontSize: '25px',\r\n        },\r\n        [eaemTheme.breakpoints.down(\"md\")]: {\r\n          fontSize: '22px',\r\n        }\r\n      },\r\n      '& h3': {\r\n        [eaemTheme.breakpoints.down(\"xl\")]: {\r\n          fontSize: '22px',\r\n        },\r\n        [eaemTheme.breakpoints.down(\"lg\")]: {\r\n          fontSize: '20px',\r\n        },\r\n        [eaemTheme.breakpoints.down(\"md\")]: {\r\n          fontSize: '18px',\r\n        }\r\n      },\r\n      '& p': {\r\n        fontSize: '13px',\r\n      },\r\n      \"& a:hover\": {\r\n        textDecoration: \"none\"\r\n      }\r\n    }\r\n  })\r\n});\r\n\r\nconst AEMText: FC<TextProps> = props => {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <div\r\n      className={classes.root}\r\n      id={extractModelId(props.cqPath)}\r\n      data-rte-editelement\r\n      dangerouslySetInnerHTML={{\r\n        __html: props.text || \"\"\r\n      }}\r\n    />\r\n  );\r\n};\r\n\r\nexport default MapTo(\"eaem-cs-spa-ssr-form/components/text\")(AEMText, AEMTextEditConfig);\r\n","import { MapTo } from '@adobe/cq-react-editable-components';\r\nimport DOMPurify from 'dompurify';\r\nimport React, { Component } from 'react';\r\nimport {Link} from \"react-router-dom\";\r\n\r\nconst ImageEditConfig = {\r\n    emptyLabel: 'Image - Experience AEM',\r\n\r\n    isEmpty: function (props) {\r\n        return (!props || !props.fileReference || (props.fileReference.trim().length < 1));\r\n    }\r\n};\r\n\r\nclass Image extends Component {\r\n    componentDidMount() {\r\n        //todo check for wcmmode\r\n        window.parent.addEventListener(\"eaem-spa-component-refresh-event\", (event => {\r\n            if( !event.detail || (event.detail.type !== this.props.cqType)){\r\n                return;\r\n            }\r\n\r\n            Object.assign(this.props, event.detail.data);\r\n\r\n            this.forceUpdate();\r\n        }).bind(this));\r\n    }\r\n\r\n    get imageHTML() {\r\n        const imgStyles = {\r\n            \"display\": 'block',\r\n            \"margin-left\": 'auto',\r\n            \"margin-right\": 'auto'\r\n        };\r\n\r\n        return (\r\n            <div>\r\n                <Link to={this.props.imageLink}>\r\n                    <img src={this.props.fileReference} style={imgStyles}/>\r\n                </Link>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    render() {\r\n        return this.imageHTML;\r\n    }\r\n}\r\n\r\nexport default MapTo('eaem-cs-spa-ssr-form/components/image')(Image,ImageEditConfig);\r\n","import 'react-app-polyfill/stable';\r\nimport 'react-app-polyfill/ie9';\r\nimport 'custom-event-polyfill';\r\n\r\nimport { Constants, ModelManager } from '@adobe/cq-spa-page-model-manager';\r\nimport { createBrowserHistory } from 'history';\r\nimport React from 'react';\r\nimport { render } from 'react-dom';\r\nimport { Router } from 'react-router-dom';\r\nimport App from './App';\r\nimport './components/import-components';\r\nimport './index.css';\r\n\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n  ModelManager.initialize().then(pageModel => {\r\n    const history = createBrowserHistory();\r\n    render(\r\n      <Router history={history}>\r\n        <App\r\n          history={history}\r\n          cqChildren={pageModel[Constants.CHILDREN_PROP]}\r\n          cqItems={pageModel[Constants.ITEMS_PROP]}\r\n          cqItemsOrder={pageModel[Constants.ITEMS_ORDER_PROP]}\r\n          cqPath={pageModel[Constants.PATH_PROP]}\r\n          locationPathname={window.location.pathname}\r\n        />\r\n      </Router>,\r\n      document.getElementById('spa-root')\r\n    );\r\n  });\r\n});\r\n"],"sourceRoot":""}